---
import {getCollection} from "astro:content";
import MainCard from "../MainCard.astro";
const projects = await getCollection('projects');
const sortedProjects = projects.sort((a, b) => b.data.date - a.data.date);
const latestProjects = sortedProjects.slice(0, 3);
---

<section>
    <h2>Recent Projects</h2>
    <div class="grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3">
        {
            latestProjects.map((project) => (
                    <MainCard
                            slug={`/projects/${project.data.shortPath}`}
                            logo={project.data.logo}
                            description={project.data.description}
                            title={project.data.title}
                            date={project.data.date}/>
            ))
        }
    </div>
</section>