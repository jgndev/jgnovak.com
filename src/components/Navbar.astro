---
const pathName = new URL(Astro.request.url).pathname;
const currentPath = pathName.slice(1);
---
<nav>
    <a href="/" aria-label="Home">
        <!-- Site Logo -->
        <svg class="site-logo" viewBox="0 0 421 430" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M237.219 0L242.5 191.5V252.5C242.5 268.188 234.379 281.883 228.7 294.9C223.355 307.584 215.505 318.432 205.149 327.444C195.127 336.457 182.934 343.466 168.57 348.473C154.205 353.146 138.17 355.482 120.465 355.482C84.7207 355.482 56.9937 346.637 37.2842 328.946C17.9088 310.922 5.54854 287.39 0.203587 258.351L71.3583 243.831C74.0308 258.851 79.0417 271.035 86.391 280.381C94.0744 289.727 105.432 294.4 120.465 294.4C133.159 294.4 143.014 290.394 150.029 282.383C157.379 274.039 161.053 261.355 161.053 244.332V61.5836H45.8027V0H237.219Z"
                  fill="currentColor"/>
            <path d="M0 370.807H421V430H0.203587L0 370.807Z"
                  fill="currentColor"/>
            <path d="M237.219 0L242.5 191.5L285 271L321.804 349.474H421V0H347.861L355 252.5L237.219 0Z"
                  fill="currentColor"/>
        </svg>
    </a>
    <!-- Desktop Links -->
    <div class="hidden md:block">
        <ul>
            <li>
                <a
                        class={currentPath === "projects" ? "active" : ""}
                        href="/projects"
                        title="Projects"
                        aria-label="Projects">Projects
                </a>
            </li>
            <li>
                <a
                        class={currentPath === "articles" ? "active" : ""}
                        href="/articles"
                        title="Articles"
                        aria-label="Articles">Articles
                </a>
            </li>
            <li>
                <a
                        class={currentPath === "resume" ? "active" : ""}
                        href="/resume"
                        title="Resume"
                        aria-label="Resume">Resume
                </a>
            </li>
            <li>
                <a class="contact" href="/contact" title="Contact" aria-label="Contact">
                    Contact
                </a>
            </li>
        </ul>
    </div>
    <!-- Mobile Nav Button -->
    <div class="md:hidden">
        <div class="-mr-2 flex md:hidden">
            <button id="navbar-toggle"
                    class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                <span class="sr-only">Open main menu</span>
                <!-- Hamburger Menu -->
                <svg width="32" height="32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <path fill="currentColor"
                          d="M7 13h7q.425 0 .713-.288T15 12q0-.425-.288-.713T14 11H7q-.425 0-.713.288T6 12q0 .425.288.713T7 13Zm0-3h7q.425 0 .713-.288T15 9q0-.425-.288-.713T14 8H7q-.425 0-.713.288T6 9q0 .425.288.713T7 10ZM4 20q-.825 0-1.413-.588T2 18V6q0-.825.588-1.413T4 4h16q.825 0 1.413.588T22 6v12q0 .825-.588 1.413T20 20H4Zm0-2V6v12Zm0 0h16V6H4v12Z"/>
                </svg>
            </button>
        </div>
    </div>
    <div class="hidden md:hidden h-screen fixed inset-0 z-100 bg-zinc-950" id="navbar-overlay">
        <div class="fixed top-0 flex flex-col justify-end p-4">
            <button id="navbar-close"
                    class="text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
                <!-- Close button icon -->
                <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <!-- Close button path -->
                    <path fill="currentColor"
                          d="m8.4 17l3.6-3.6l3.6 3.6l1.4-1.4l-3.6-3.6L17 8.4L15.6 7L12 10.6L8.4 7L7 8.4l3.6 3.6L7 15.6L8.4 17Zm3.6 5q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22Z"/>
                </svg>
            </button>
            <div class="lowercase h-full mt-8 flex flex-col items-start space-y-6 p-4">
                <!-- Mobile Nav LInks -->
                <a href="/" aria-label="Home">
                    <div class="flex items-center space-x-4">
                        <svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path fill="currentColor" d="M4 21V9l8-6l8 6v12h-6v-7h-4v7H4Z"/>
                        </svg>
                        <span>Home</span>
                    </div>
                </a>
                <a href="/projects" aria-label="Projects">
                    <div class="flex items-center space-x-4">
                        <svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path fill="none" d="M336 80H176a16 16 0 0 0-16 16v16h192V96a16 16 0 0 0-16-16Z"/>
                            <path fill="currentColor"
                                  d="M496 176a64.07 64.07 0 0 0-64-64h-48V96a48.05 48.05 0 0 0-48-48H176a48.05 48.05 0 0 0-48 48v16H80a64.07 64.07 0 0 0-64 64v48h480Zm-144-64H160V96a16 16 0 0 1 16-16h160a16 16 0 0 1 16 16Zm-16 152a24 24 0 0 1-24 24H200a24 24 0 0 1-24-24v-4a4 4 0 0 0-4-4H16v144a64 64 0 0 0 64 64h352a64 64 0 0 0 64-64V256H340a4 4 0 0 0-4 4Z"/>
                        </svg>
                        <span>Projects</span>
                    </div>
                </a>
                <a href="/articles" aria-label="Articles">
                    <div class="flex items-center space-x-4">
                        <svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path fill="currentColor"
                                  d="M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1ZM7 6v4h4V6H7Zm0 6v2h10v-2H7Zm0 4v2h10v-2H7Zm6-9v2h4V7h-4Z"/>
                        </svg>
                        <span>Articles</span>
                    </div>
                </a>
                <a href="/resume" aria-label="Resume">
                    <div class="flex items-center space-x-4">
                        <svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
                            <path fill="currentColor"
                                  d="m210.78 39.25l-130.25-23A16 16 0 0 0 62 29.23l-29.75 169a16 16 0 0 0 13 18.53l130.25 23a16 16 0 0 0 18.54-13l29.75-169a16 16 0 0 0-13.01-18.51Zm-75.28 92.31a8 8 0 0 1-7.87 6.61a8.27 8.27 0 0 1-1.4-.12l-41.5-7.33A8 8 0 0 1 87.52 115l41.48 7.29a8 8 0 0 1 6.5 9.27Zm47-24.18a8 8 0 0 1-7.86 6.61a7.55 7.55 0 0 1-1.41-.13l-83-14.65a8 8 0 0 1 2.79-15.76l83 14.66a8 8 0 0 1 6.51 9.27Zm5.55-31.52a8 8 0 0 1-7.87 6.61a8.36 8.36 0 0 1-1.4-.12l-83-14.66a8 8 0 1 1 2.78-15.75l83 14.65a8 8 0 0 1 6.52 9.27Z"/>
                        </svg>
                        <span>Resume</span>
                    </div>
                </a>
                <a href="/contact" aria-label="Contact">
                    <div class="flex items-center space-x-4 ">
                        <svg width="22" height="22" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M452.1 49L52.3 265.3c-6 3.3-5.6 12.1.6 14.9l68.2 25.7c4 1.5 7.2 4.5 9 8.4l53 109.1c1 4.8 9.9 6.1 10 1.2l-8.1-90.2c.5-6.7 3-13 7.3-18.2l207.3-203.1c1.2-1.2 2.9-1.6 4.5-1.3 3.4.8 4.8 4.9 2.6 7.6L228 338c-4 6-6 11-7 18l-10.7 77.9c.9 6.8 6.2 9.4 10.5 3.3l38.5-45.2c2.6-3.7 7.7-4.5 11.3-1.9l99.2 72.3c4.7 3.5 11.4.9 12.6-4.9L463.8 58c1.5-6.8-5.6-12.3-11.7-9z"
                                  fill="currentColor"/>
                        </svg>
                        <span>Contact</span>
                    </div>
                </a>
            </div>
        </div>
    </div>
</nav>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const navbarToggle = document.getElementById('navbar-toggle');
        const navbarClose = document.getElementById('navbar-close');
        const navbarOverlay = document.getElementById('navbar-overlay');

        navbarToggle.addEventListener('click', function () {
            navbarOverlay.classList.add('flex');
            navbarOverlay.classList.remove('hidden');
        });

        navbarClose.addEventListener('click', function () {
            navbarOverlay.classList.add('hidden');
        });
    });
</script>
